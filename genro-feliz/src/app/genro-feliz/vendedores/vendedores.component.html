<app-breadcrumb [aplicacao]="'Gerenciador Funerária'" [subAplicacao]="'Vendedores'"></app-breadcrumb>

<div
  class="d-flex justify-content-center align-items-center"
  style="height: 100vh"
  *ngIf="carregandoVendedores"
>
  <p-progressSpinner
    styleClass="w-8rem h-8rem"
    strokeWidth="8"
    fill="var(--surface-ground)"
    animationDuration=".5s"
  />
</div>

<p-table
  #tabelaVendedores
  [value]="vendedores"
  [tableStyle]="{ 'min-width': '50rem' }"
  *ngIf="!carregandoVendedores"
  [paginator]="true"
  [rows]="5"
  [showCurrentPageReport]="true"
  currentPageReportTemplate="Total de Vendedores: {totalRecords}"
  [globalFilterFields]="['nome', 'cargo']"
>
<ng-template pTemplate="caption">
  <button class="btn btn-primary">
    <i class="bi bi-plus"></i> Cadastrar Vendedor
  </button>
  <div class="flex mt-3">
    <p-iconField iconPosition="left" class="ml-auto">
      <p-inputIcon>
        <i class="bi bi-search"></i>
      </p-inputIcon>
      <input
        pInputText
        style="width: 30%;"
        type="text"
        (input)="
          tabelaVendedores.filterGlobal(
            $any($event.target).value,
            'contains'
          )
        "
        placeholder="Pesquisar por Nome ou Cargo"
      />
    </p-iconField>
  </div>
</ng-template>
<ng-template pTemplate="header" style="width: 20%;">
  <tr>
    <th pSortableColumn="nome" style="width: 20%">
      Nome <p-sortIcon field="nome" />
    </th>
    <th pSortableColumn="cargo">
      Cargo<p-sortIcon field="cargo" />
    </th>
    <th style="width: 20%">Ações</th>
  </tr>
</ng-template>
<ng-template pTemplate="body" let-vendedor>
  <tr>
    <td>{{ vendedor.nome }}</td>
    <td>{{ vendedor.cargo }}</td>
    <td>
      <button class="btn btn-warning m-2 text-white" pTooltip="Editar Vendedor">
        <i class="bi bi-pencil"></i> 
      </button>
      <button class="btn btn-danger m-2" pTooltip="Excluir Vendedor">
        <i class="bi bi-trash"></i> 
      </button>
    </td>
  </tr>
</ng-template>
</p-table> 